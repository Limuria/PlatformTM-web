

<fieldset>
    <div class="row">

        <!--AVAILABLE FIELDS-->
        <div class="col-md-5" style="padding-left: 20px;">
            <div class="row">
                <h3 class="domainTitleName">Fields</h3>
                <div class="well">
                    <div ng-show="step2vm.dataLoaded">
                        <div js-tree="step2vm.treeConfig" ng-model="step2vm.treeData" tree="step2vm.treeInstance" tree-events="changed:step2vm.treeChanged;select_node:step2vm.nodeSelected;deselect_node:step2vm.nodeDeselected" ></div>
                    </div>

                    <div ng-show="!step2vm.dataLoaded" >
                        <div>
                            <div class="sk-spinner sk-spinner-fading-circle">
                                <div class="sk-circle1 sk-circle"></div>
                                <div class="sk-circle2 sk-circle"></div>
                                <div class="sk-circle3 sk-circle"></div>
                                <div class="sk-circle4 sk-circle"></div>
                                <div class="sk-circle5 sk-circle"></div>
                                <div class="sk-circle6 sk-circle"></div>
                                <div class="sk-circle7 sk-circle"></div>
                                <div class="sk-circle8 sk-circle"></div>
                                <div class="sk-circle9 sk-circle"></div>
                                <div class="sk-circle10 sk-circle"></div>
                                <div class="sk-circle11 sk-circle"></div>
                                <div class="sk-circle12 sk-circle"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!--<div class="row">
                <h3 class="domainTitleName">Saved Filters</h3>
                <div class="well">
                    <ul class="list-group clear-list">
                        <li class="list-group-item fist-item">
                            &lt;!&ndash;<span class="pull-right"> 09:00 pm </span>&ndash;&gt;
                            BMI between 20 and 25
                            Arm (Stamaril, Boostrix)
                        </li>
                        <li class="list-group-item">
                            &lt;!&ndash;<span class="pull-right"> 10:16 am </span>&ndash;&gt;
                           CRP between 0.3 and 9.0
                        </li>
                        <li class="list-group-item">
                            &lt;!&ndash;<span class="pull-right"> 08:22 pm </span>&ndash;&gt;
                            Arm (Placebo) Age > 50
                        </li>
                        
                    </ul>
                </div>

            </div>-->


        </div>

        <!--APPLIED FILTERS-->
        <div class="col-md-7">
            <div ui-view>
                <h3 class="domainTitleName">Filters</h3>
                <div ng-repeat="field in step2vm.filters">

                    <div ng-if="field.filter.isNumeric" class="ibox float-e-margins" style="margin-bottom: 1px;border-top: 1px solid white;">
                        <div class="ibox-title" style="
                                                        background-color: #2C3E50;
                                                        color: #FBFBFC;">
                            <h5>{{field.displayName}} between <span style="color: #CDFF3B">{{field.filter.from}} {{field.filter.unit}}</span> and <span style="color: #CDFF3B">{{field.filter.to}} {{field.filter.unit}}</span></h5>
                            <div ibox-tools></div>
                        </div>
                        <div class="ibox-content" style="">
                            <!--<form role="form">
                                <div class="form-group form-inline">
                                    <b>Range: </b>
                                    <label for="exampleInputEmail2" class="sr-only">From</label>
                                    <input ng-model="filter.valueSet.from" placeholder="From" id="exampleInputEmail3"
                                           class="form-control" style="width:15%;">
                                    :
                                    <label for="exampleInputEmail2" class="sr-only">To</label>
                                    <input ng-model="filter.valueSet.to"  placeholder="To" id="exampleInputEmail2"
                                           class="form-control" style="width:15%;">
                                </div>
                            </form>-->


                            <!--<div ion-range-slider
                                 min="filter.valueSet.min" max="filter.valueSet.max"
                                 to="filter.valueSet.to" from="filter.valueSet.from"
                                 on-change="filter.update"></div>-->
                            <div ion-range-slider range-options="field.ionSliderOptions"></div>
                        </div>
                    </div>

                    <div ng-if="!field.filter.isNumeric" class="ibox float-e-margins" style="margin-bottom: 1px;border-top: 1px solid white;">
                        <div class="ibox-title" style="background-color: #2C3E50;color: #FBFBFC;">
                            <h5 ng-show="field.filter.filterValues">{{field.displayName}} : (<span style="color:#00bfcd" ng-repeat="val in field.filter.filterValues">{{val}}{{!$last ? ',':''}}</span>)</h5>
                            <h5 ng-hide="field.filter.filterValues">{{field.displayName}}</h5>
                            <div ibox-tools ></div>
                        </div>
                        <div class="ibox-content" style="">
                            <b>Values: </b>
                            <ui-select multiple ng-model="field.filter.filterValues" theme="bootstrap" ng-disabled="disabled" style="width: 300px;">
                                <ui-select-match style="height: 29px;" placeholder="Select filter terms...">{{$item}}</ui-select-match>
                                <ui-select-choices repeat="term in field.filter.valueSet | filter:$select.search" position="down">
                                    {{term}}
                                </ui-select-choices>
                            </ui-select>

                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <div class="pull-left">
        <a ng-click="step2vm.cancel()"  class="btn btn-primary btn-sm ">Cancel</a>
    </div>
    <div class="pull-right">
        <a ng-click="step2vm.prev()" class="btn btn-default btn-sm">Previous</a>
        <a ng-click="step2vm.next()"  class="btn btn-primary btn-sm">Next</a>
    </div>

</fieldset>