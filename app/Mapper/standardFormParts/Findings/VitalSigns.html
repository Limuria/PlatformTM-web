
<div ng-controller="dragAndDropController" ui-view>

	<h2 class="domainTitleName">Domain : {{getDomainName()}}</h2>
	<div class="seperateLine"></div>

	<h3 class="domainSubName">Identifier</h3>
	<form name="domainForm">
	<table class="table table-bordered ">
		<tr>
			<td>
				Domain Abbreviation (DOMAIN):
			</td>
			<td>
				{{getShortName() }}
			</td>
		</tr>
		<tr>
			<td>Study Identifier (STUDYID)*:</td>
			<td ><input name="StudyID" class="userInputBox" ng-model="identifierInput.STUDYID" required/></td>
		</tr>
		<tr ng-repeat="Identifier in FindingStandardData.identifiers" >
			<td > {{Identifier.label}} ({{getShortName()}}{{Identifier.name}}) :</td>
			<td>
				<div class="btn btn-droppable" data-drop="true" ng-model='identifierList' jqyoui-droppable="{index: {{$index}} }">
					<div class="btn btn-info btn-draggable" ng-show="identifierList[$index].title" data-drag="{{identifierList[$index].drag}}" data-jqyoui-options="{revert: 'invalid'}" ng-model="identifierList" jqyoui-draggable="{index: {{$index}},placeholder:true,animate:false}">{{identifierList[$index].title}}</div>
				</div>
			</td>

		</tr>
	</table>



	<div class="seperateLine"></div>
	<h3 class="domainSubName">Observation Variables</h3>

	<div ng-repeat="testIndex in getTestNumber() track by $index">

		<div>
			<h4 class="newTestTitle" ng-init="newTestIndex=testIndex">Test {{newTestIndex}}</h4>
			<!--<div class="seperateThinLine"></div>-->
			<div style="text-align:right;padding-bottom: 3px;">
			<button type="button" class="btn btn-danger" ng-click="removeNewTest(newTestIndex)" >
				<span class="glyphicon glyphicon-trash" aria-hidden="true"></span> Remove
			</button>
			</div>
		</div>


		<table class="table table-bordered ">
			<span class="error" ng-show="domainForm.TestShortNameInput.$error.maxlength"><p>*Only 8 Characters Allowed For {{getDomainName()}} Test Short Name</p></span>
			<span class="error" ng-show="domainForm.TestNameInput.$error.maxlength" ><p>*Only 40 Characters Allowed For {{getDomainName()}} Test Name</p></span>

			<tr>
				<td>{{getDomainName()}} Test Short Name ({{getShortName()}}TESTCD)*:{{TESTCD}}</td>
				<td ><input name ="TestShortNameInput" class="userInputBox" ng-model="getTestByIndex(testIndex)[0].TESTShortName" ng-maxlength="8" /></td>

			</tr>
			<tr>
				<td>{{getDomainName()}} Test Name ({{getShortName() }}TEST)*:</td>
				<td ><input name="TestNameInput" type="text" class="userInputBox" ng-model="getTestByIndex(testIndex)[0].TESTName" placeholder={{getStandardName(getTestByIndex(testIndex)[0].title)}} ng-maxlength="40" required /></td>
			</tr>

			<tr ng-repeat="obsVariable in FindingStandardData.obsVariables" >

				<td>  {{getDomainName()}} {{obsVariable.label}} ({{getShortName()}}{{obsVariable.name}}) :
				</td>
				<td>
					<div class="btn btn-droppable" data-drop="true" ng-model='testsList[testIndex-1]' jqyoui-droppable="{index: {{$index}} }">
						<div class="btn btn-info btn-draggable" ng-show=" testsList[testIndex-1][$index].title" data-drag="true" data-jqyoui-options="{revert: 'invalid'}" ng-model="testsList[testIndex-1]" jqyoui-draggable="{index: {{$index}},placeholder:true,animate:true}">{{testsList[testIndex-1][$index].title}}</div>
					</div>

				</td>

			</tr>
			<tr>
				<td>{{getDomainName()}} Test Result Unit ({{getShortName()}}ORRESU):</td>
				<td ><input type="text" class="userInputBox" ng-model="getTestByIndex(testIndex)[0].TESTResultUnit"  /></td>
			</tr>
		</table>
	</div>
	</form>

		<button class="btn btn-md btn-success" ng-click="addNewTest()">
			<span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Add New Test
		</button>
		<div class="seperateLine" style="padding-bottom:5px"></div>
		<div style="padding-top: 5px;"></div>
		<div style="text-align:center" >
			<a ui-sref='.Submission'>
			<button class="btn btn-md btn-success" style="width:150px;" ng-show="!domainForm.TestNameInput.$error.required && !domainForm.TestShortNameInput.$error.required  && !domainForm.StudyID.$error.required" >
				<span class="glyphicon glyphicon-send" aria-hidden="true" ></span> &nbsp Submit
			</button>
			</a>
		</div>


</div>

<!--<input type="text" ng-model="name">{{name}}-->
	<!--<h3 >Vital Sight</h3>-->



	<!--<div class= "well" id ="Identifier" ng-model ="VSIdentifier">-->
		<!--<h4>Identifier</h4>-->
		<!--<div ng-controller="mappingFormSelectionController" >-->
			<!--<table class="table table-bordered" >-->
				<!--<tr ng-repeat="Identifier in mappingStandardsData.indentifiers" ng-class="{'selected':$index == selectedRow}" ng-click="setClickedRow($index)">-->
					<!--<td class="variableNameTd"> {{Identifier.name}} </td>-->
					<!--&lt;!&ndash;This td will ng-repeat on droppable container&ndash;&gt;-->
					<!--<td> {{Identifier.mappingVar}}-->
						<!--<button type="button" ng-click="removeItem(row)" class="btn btn-sm btn-danger">-->
							<!--<i class="glyphicon glyphicon-remove-circle">-->
							<!--</i>-->
						<!--</button>-->
					<!--</td>-->



				<!--</tr>-->

			<!--</table>-->
		<!--</div>-->

		<!--<div  ng-controller="mappingFormSelectionController">-->
			<!--<table class="table table-bordered"  >-->
				<!--<tr >-->
					<!--<td class="variableNameTd">Study Identifier (STUDYID)*:</td>-->
					<!--<td><input type="text" class="form-control"></td>-->
				<!--</tr>-->
				<!--<tr>-->
					<!--<td class="variableNameTd">Domain Abbreviation (DOMAIN)*:</td>-->
					<!--<td>VS</td>-->
				<!--</tr>-->
				<!--<tr>-->
					<!--<td class="variableNameTd">Unique Subject Identifier (USUBJID)*:</td>-->
					<!--<td></td>-->
				<!--</tr>-->
				<!--<tr>-->
					<!--<td class="variableNameTd">Sequence Number (VSSEQ)*:</td>-->
					<!--<td><label>Maching</label></td>-->
				<!--</tr>-->
			<!--</table>-->
			<!-- -->
		<!--</div>-->


	<!--</div>-->

	<!--<div class= "well"><h4>Topic</h4>-->
		<!--<table class="table table-bordered">-->
			<!--<tr>-->
				<!--<td class="variableNameTd">Vital Signs Test Short Name (VSTESTCD)*:</td>-->
				<!--<td class>VSTESTCD</td>-->
			<!--</tr>-->
		<!--</table>-->
		<!-- -->
	<!--</div>-->

	<!--<div class= "well" ng-model ="VSQualifier"> <h4>Qualifier</h4>-->


			<!--<table class="table table-bordered">-->
				<!--<tr>-->
					<!--<td class="variableNameTd">Baseline Flag*:</td>-->
					<!--<td><select class="form-control">-->
						<!--<option>Yes</option>-->
						<!--<option>No</option>-->
					<!--</select>-->
					<!--</td>-->
				<!--</tr>-->
			<!--</table>-->
	<!--</div>-->
	<!--<div class="well" ng-model="VSTest" id="space-for-newTest"> Test-->
		<!--<p></p>-->
		<!--<div style="padding-bottom: 20px" ng-controller="addTestController">-->
			<!--<addtestsbutton></addtestsbutton>-->
			<!-- -->
		<!--</div>-->



	<!--</div>-->



<!--<div>-->


		<!--<li class="list-group-item">Vital Sins Test Name(VSTEST)*: &nbsp;<input type="text" class="form-control"> </li>-->
		<!--<li class="list-group-item">Result or Finding in Original Units (VSORRES)*:&nbsp;</li>-->
		<!--<li class="list-group-item">Original Units (VSORRESU)*:&nbsp;<input type="text" class="form-control"></li>-->

<!--</div>-->
	<!-- <div class= "well" ng-model ="Timing"> <h4>Timing</h4>
		<div class= "listgroup">
			<a href="#" class="list-group-item list-group-item-info">Start Date/Time of Visit (SVSTDTC)*:</a>
			<a href="#" class="list-group-item list-group-item-info">End Date/Time of Visit(SVENDTC)*:</a>
			<a href="more.html" class="list-group-item list-group-item-info">+More</a>

		</div>
	</div> -->


