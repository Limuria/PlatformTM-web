alter table `Templates.DomainVariable_TBL` drop foreign key `FK_Templates.DomainVariable_TBL_Templates.DomainDataset_TBL_DomainId`
alter table `Templates.DomainVariable_TBL` drop index `IX_DomainId`
SET FOREIGN_KEY_CHECKS = 0;
             ALTER TABLE CVterm_TBL DROP INDEX DictionartyId;
             ALTER TABLE CVterm_TBL ADD INDEX IX_DictionaryId (DictionaryId);
set @columnType := (select case lower(IS_NULLABLE) when 'no' then CONCAT(column_type, ' not null ')  when 'yes' then column_type end from information_schema.columns where table_name = 'CVterm_TBL' and column_name = 'DictionartyId');
set @sqlstmt := (select concat('alter table `CVterm_TBL` change `DictionartyId` `DictionaryId` ' , @columnType));
prepare stmt from @sqlstmt;
execute stmt;
deallocate prepare stmt;
alter table `Templates.DomainVariable_TBL` add column `DictionaryId` nvarchar(200)  
alter table `Templates.DomainVariable_TBL` modify `DomainId` nvarchar(200)  not null 
CREATE index  `IX_DomainId` on `Templates.DomainVariable_TBL` (`DomainId` DESC) using HASH
CREATE index  `IX_DictionaryId` on `Templates.DomainVariable_TBL` (`DictionaryId` DESC) using HASH
alter table `Templates.DomainVariable_TBL` add constraint `FK_Templates.DomainVariable_TBL_Dictionary_TBL_DictionaryId`  foreign key (`DictionaryId`) references `Dictionary_TBL` ( `OID`) 
alter table `Templates.DomainVariable_TBL` add constraint `FK_a2906fa59a7b43d8804ad0647d1d0bef`  foreign key (`DomainId`) references `Templates.DomainDataset_TBL` ( `OID`)  on update cascade on delete cascade 
INSERT INTO `__MigrationHistory`(
`MigrationId`, 
`ContextKey`, 
`Model`, 
`ProductVersion`) VALUES (
'201410170729114_addingVarCVFK', 
'eTRIKS.Commons.Persistence.Migrations.Configuration', 
0x1F8B0800000000000400ED5DDB6EE436127D5F60FFA1D18FC1C46DCF204062D809A6ED998591CC056E3B9B3743EEA63D42D45247520F6C2CF6CBF6613F697F61A93B6F451625EAD2036380815B228BC5E261F176C4FADF7FFE7BF6CBD336987D2571E247E1F9FCE4E8783E23E13ADAF8E1E3F97C9F3E7CFFE3FC979FFFFEB7B3779BEDD3ECF72ADD9B2C1DCD1926E7F32F69BA3B5D2C92F517B2F592A3ADBF8EA3247A488FD6D176E16DA2C5EBE3E39F1627270B4245CCA9ACD9ECEC7A1FA6FE96E43FE8CF8B285C935DBAF7820FD1860449F99CBE59E552671FBD2D4976DE9A9CCFC9CDF5D5AFABA38B68BB8DC2E4E873A65292529DC97CF636F03DAAD18A040FF399178651EAA554DFD3DB84ACD2380A1F573BFAC00B6E9E7784A67BF0828494F5386D9263AB74FC3AABD2A2C958895AEF9334DA5A0A3C7953DA6821666F65E9796D436AC577D4DAE97356EBDC92E7F34B2ADF0F6FC876177829358158E4E9451067C925735F4431392A721FE56D755409498E78A1AF668AACAF6A0851A465FF5ECD2EF641BA8FC97948F669EC05AF669FF7F781BFFE953CDF447F92F03CDC07015B195A1DFA8E7B401F7D8EA31D89D3E76BF25056F1D3D5E57CB6E0332EC49C753E365351710A18DA07E6B30FDED36F247C4CBF9CCFA979E7B3F7FE13D9544F4A04DD863EED3234531AEFE9CF8F5465EF3E20F5FB85B6D0EC7F7DA9B862F5A55C045E9238A89CBE944B92AC637F57C0B6F72AD194BDD7880ADEAF3384F65ED255724D7684F6BF4C7A51D6328A02E28566487DF4BEFA8F79D71584FEEEC57E969136FD3509F214C9177F573849A1CB5669EF8AC7B44A71B4BD8E02C9610809EF6EBCF891A454E908937A15EDE3B55085B345E3A32C3C5725BA170F56097FF164D3F26483FA984B2FF5B2327AEFFDBF79F72418A03E39C4AF36C383A3EA4E59B94ECAD7179779A2018AB94DBCC721CA5947219DC10601D9DC9078EB8751103D3EF7512E38922835B019550001C6414699AF1E450C638E3A73356061EB5E0D88FD0DA1C8EA08032E56FF4CA68DF6457AA3EED94BACE6795A5BBDF3DE65A37899C1A8799E0EAB7A91D85677D6DFD95481CF67AC099B1C5B212E8FAA5EF8E998BFCE6AE5C5CF9DA66017AA5E7AD4087F99824D6D0AF6E087FE3033B03F62F230E840974150BD5CBAF83DA5EFEE58D037FD537A292D8BE414AAA5904EB5CC166A5FD2C82CD2307E837F25FB08E17D277F5054B1075F50087EF103583F30C8DEC8B7E76CAE92DB84C4AB1D59FB0F3ED948FB3086BDA2E7300A9FB7866D362736A93BED184BB9C15D32EB71BBFB65D103C29EBBB35F2E458B3E99790C69D3DD175FDE3FE5C5BA9F97E5825F7C31B6BBBC5DAF499218FDD7C16D8D2D07F13DB05358AAA742393AEFB2B7CC24A87A284F7FEA37DD3ADBB28F8EB67CE964EE163E0E205FDABDFFBE751B0FB0174C0BF94CB1EF3FB92E0ADF6BBCD44BB23ED7A1EB94325E7A0AB6A764067BEF0703CCDCDFD209D557DAE263CC51073CE80047A8AAFEEA71AAC0ED5D938819AE8477F2A8252670B9A35DCA566C61736F40A55A6E52EB8FAAABB7B4C79138A3FBDCD5CEA351104C24EDC5C0293B1D4F378DD9C1A355425E5CDAB4763D57E97E338C2F83BB6D015280CD61E35124CE06E472B0AAE5D651EAD5882C92345AF16F248722BCEE34412FCBEED02D73092F7D725A7DB2DF15AF6964F781C10A8D78B117021DA215E2A521AE13FA256963F7844AA1667B3873CD0B73C6D2D3C9A9CD1D495DE61813F8B2024317FD29DE90F8E37E7B4FE2AAF0AB307DF31AC36DFC6BEFC7D65BEAB445563467015F5D81A621B38F49A5385E99A79FB67361F6EC03A5BF2AA3AE2A727A44AD14993A8DCD2AA51DB8AA46DCD8BEEA65D4B6233BD23F273F37188B287A955CEC632FB5F6A4DF26FFD2DD9AAC33974EE115451E1D900474B9623ADB61045E93A9FCBE385785D260D485576C9D38738A9220BE9C2129A6120E797224F6BF92CD07927E8936DDB6BB5949DFE0B876F2FAC73EC6B5C25EC38C6E4559838E3EEFA378EB05EF9E76B1F1A4D9D5D89AC3B0EA21A32C832A15827D6F831ABCAA100A576FC8B17DF54ECEC26CCF6953CA3BEDFAE4D687017C63DAD4A5CA61AC4A493D46D6A44C6D3DDEE5D20DDFBC71254A39A08A08090D151153DB0C1E6F93245AFBB9DA1CAB92E537F1F678176E6646B253D1331A5212ED1E7454F077741CA04A9CCFBF93CCAC135B6F5C356259FA152FFA642E0E259FC24B129094CCDEAE8B2FA42FBC64ED6DE40E486DB4E19F94CBD0EC3BEE0BDAB0743CF3C3541EAAFC70EDEFBCC0540121237694CB34ABCB10DF5C921D0937544553A3600AE7997EB216756182DD4C663A5B3038D3C3AF61D440F850D06B185C943C343CDC644E0E2B6E393D78490A0F012BC9E828382D478311CB8534381A9E18E9C073716C4A23368F8F8E4E24995DFC0E5BFC801E873523A6D88AD73B8E97113E61009D03F43D036624D27A1DE0438801E102A8308837519B75FAB0B1F9D8146CFA565F9E32B8006E25B0005F9BCF5751907788CE163A0E02DD16AD87D10BFCE67A4A402F595A96B812195C034059BC2B042A7282B33B4C8546043ADF98A859604D8E9C1294F3DD724B54F1DBE703C098DB87374E4D7B77BEAC3A2342906D068C1AD5E9D094E057DC1D600907E122810100C8DF46303E02397D468420D712183DEAAB5BA60442EE34CB1219EAE3AD0120A93C271B1F992AB54604A8AA7930EA8807F7A3C055603442008108BD0D161A72321E761069B2915A9E5D4F6DE6A8567C080CAA1B025372CDA818C72D8A1C76D015819FC8300EAF22F359783890276F86F0F87883B41FC4EB010D82299BFD506C54D89956D3C007504E2077C00B64650D8604DDC12D8161E6310413040DB9418C82FB8F0724E22B3A23E0C707A5B11643E0D3D86828A8421F2C0C8C5591D868C20FC8729471CA32BFED810AD124075C82185419126B80D927BF2D0352522D9A1F5C7638079ADD52A457A00DBEB830197EFACB0C138FD80208A65D17E7C81B7BB705A9D248403CE85D16D4F75CF8699BEEE3AEDEE68A9A8FC3AC7AC514679070DDC6994CC20D6C0379C317B483ACBFF54C6970E98CA44D33CB15FE430C8B553A8E72DDC20F773753B9916FA9BAC8C8EECF48029BDBCA0D38B497C8F5C6D502247E23EDA51C78B185B532D977487B15F4F3ECEA39DA71495CDA8CA4B1FF6792AD39B337E429BD8DFEA9F862E93621E5474B49F9ED8458C34CF88AA4CAF3AE643E6BC8EFC02E9764329D4086C16F10DC9C7B990AA82855BE5A2AC3B832482A3C814A48E5234CAAE4BC43A5162523D12460A9CCBC3467AC2F9C9173573B3F0611EC5D199290662FDD20255B2FA845940B2E437E69F05489524C8590629BDEA893CBF65993E159BFA0343FEF7404714C971771C8DD93CBA4032FD315270498CF4DEAEA30E8976616980F4C18417C8714E77C7C8D11D6602E0A95AD007CF3C0BB6EE9AB0756D9AACB6A6A2D7FE7C00A58BAA824770131D8D832E15AD53A1CDDBA5D0373C46AB3B5DAB4AA7813BEA26D754C73BE8100AE3912945A59FD5AC12A048FC244AD59D57C9DDBF0AA59834063BCCECE6D98D43D7A197D7C20B4E9552793987A0B4795FD185738BA040BE9D1A0C5550B6873CA0718987A72C718FD98923BC0303B5977062C4327A12DA8A04B62EAC71326FBB1214F911CD288DC2632DE96F0DE33A6BACA1DE87E2CABDC7BEEC5C0E2157AB22D759434AE2E00298D519B5DA2688C02F0D01841F52AA53BC0A4CB3C1568D292A5F8F684E8522C4EEAB59E0E1810410A65CE0E86D08C981AF28E5277CD9868638221473D982FA23008925C62D8C817E9254CFD548B698DC1CC8412441374309A7423136C322DC7C18AE5A03017B74980B017C46BE8C5E182C7EF386B999CB0F1B0DEADBD06F0D0A633649CDD90433FF6E0D9AD15871BEE51279F2857673A316D7F66EAD2016A4E49ED9AB0CD886AB8964831C25A1CCFB539A063DDBFB0EFA91B87714772FDCCFFF5D721A14DA83ABA6B7178E7D480C271DDC078946E6432D9527BACD7E260CF852DA1733C67B6AC2E8FAA4FEFEA77678BD5FA0BD97AE583B3054DB226BB74EF05F90D8249F5E283B7DBF9E163D2E42C9FCC563B6F9DEDD97EBF9ACF9EB641989CCFBFA4E9EE74B14872D1C9D1D65FC751123DA447EB68BBF036D1E2F5F1F14F8B9393C5B690B158730D219E35D625A5514CD7EAC2DB227CE57B3F4ED26C3678EF6517B55D6CB65232E5592570AE5215A93E8E941BB63A6EA9F2657F9727A4FC9D8B9FB3DB16933473EBE219A6CCC228A5BDA7B5DE66CC8ECC00045C39C802A888D5DA0BBC5875A9E24514ECB7A1866C02E72F6E466405144FF0122E022F497811E523BC0CEECE445612F7C242A73C0A2AA75224F38574125669BC5F677767F26298C77859D925E83B423B737637212B8D7B21CB3B5B08A891183A125A0537227682165D44E75F1D74156824B4EE32B0A0E9761DD7B06FEEA2E684D54FF192CA8BBA5931E5230B6DEA2F6D386DC0EF6F60492247939567E26FC2522BD23B2B2D7B969D13D949AABF286745E50FED658197CF7046D45E0E389EE7608FD05CB90B908F8071119ACC53760BCDCA97F70A108B4427ADBAA58B9504DDDC351A72AA059A23D094F42A7BC04019FB024BF789CAD4E0264552E7273CC24B8B09591D639D9B8FD54F2DEACB394F1BB77AD05DAC2299B8F2CB0501B1854F0632F6D5C59828DCAC14E6F18813B6A50441E53DADE38166E90E3012A50E031645A6E90EDC7598686E825A3DB4984FC6C2DCFBF6FA37CBFC558067414AF5783A00AB4EFD5CA14C7DE089811A94B32FBC35F198C5D55AF1D4C6C535D768F03E0EBE5E43A397F5BA6D24EC30740347E881081508F8C059A7EBAFEA6F71F92D2EE003DDD1DAB93ABA75D4C8CA136B440B03F9A6DBBC6D672B2335B3E26CD5518BCB9F77D8B73E428669FB8AFFDE52B58965E9A89BFB41545E5F737D082C930BF4C9A1977D61B7F75D050015B7BEABE778695C5450561CF7627288668FFA1C431A663B58605A2764BAEECDC91EF56477E099708F7CBFA91F4F75FFDC4ECA81CC41044680ABD50AF72D5F8B358B3E7F5F7D970DAAC78A619FDB4A037BE2567E8D972DC7C76345CB6F6D3C8714088F15BD915FB790CD44B86385A7802FE9BB6FF0AC144D075190CBECFB83428815FE33928EDAB006E6986C575C2F92E401177F307A755619BCF6A343C7D76A7811859B7CAA30BB4AB2C08D7540455B4B8824275788ABA8785D0057C9E8096F3CD1AE33DC4A713DA28D671D4E156CB01D1C634DA22AB6C09A24C37E726E6C3F80E9D81170A570F77003C893D3841B6C0533D82412A798A41EC8CB27F5EF9AC45912283966676E998CA7995B2429C99C22A3B248329F51237CF537199BF2C3F3EAAF20DF393FCAFFBC087C3A7768527CF042FF81246911337AFEC3D10FF3D9DBC0F79282965B72454FC5AB6250E4D193371979946CB60B31BB3D05359392241B2EA2B52224B78669394CF4EBF0AB17AFBF78B11CA8D832127231D3D60BE5A462223C97E44DBCAAB8B0D152506C770AE78C09B7FA323C4FB78239CA6721FA3E8A0243D3E3E3CD2338912F20EF178FCD6E8F5BE8949B5BAEB5ADCFF544C1D2D55F57E1863C9DCFFF95E73C9D5DFD7157657E35CBB7874F67C7B37F776E707147AA855EBC08AC761873B104D1168A35D95D2AC5514D5B68C5E477A9164FA76A032F46407BC5F0CE138AB3FEE2303932A063D11553AE05408AAC034043C50B3D3058F4314D3A34A849FC53F50C0C3543AC99A7AEAB3F86D74421E8103AAA8A5D7A601D9561A61ECE22ACE0ADB641EBB2134AF1C0581E3428309ED6B6CD6A66AA632CE46C55F7322BEE6A27C978BC28C3321D16681A2EA9E3D66089A52DFA7C93DDE9F834F652168D2D20C8E16181AB97B95F4DFC68D18265DE211A50159FE8A5F51C4E30D02D61A065E25A45C7D2D044AD040996E626654BECB0BFE5D8812A2AD6C1BBD7529CEAC8F1500BEDFCECB0CA7E1BBEA29FB65F0372AC53A42ED6C8062300BD381C7E4B3C88A820F2648D85433C0B6068A0EDE13BF98DF60E9BEC6E9519705A8243AC44416833E315A5802A9EBCFED1D5AA0A26508DE8CF84FAA1FC19CB7575EC34148C57C725C8C4D76E2E54C176753C7CA43D3851354BB17D4FE204F5D0DF79865B173D1B39EEB764E5685C86C832CA58197C9C2DE6718FC102C5A82588A86E7250B47681D47597DCA09CE0CC26A020783D8A5C94FE4A8C616204AA43F2B0B059F270590E04932A08175B76F9A81F98A8AE50700F0FF06A0F053C94D7550C020B3084519B063204EB1BDC1FE05B60405F005D69338C17D0056FEAA1C9AD87A2C36B7ACB5167DCE66F1D98AA4B9B9A3002049864650349BE856904FA26CF694E2BF0F1B6C026D734F5505390A941D07411F2B460085E6A332604E500246DA62207E6BB2CE621230246773FEC98905104657BC1CC4430A3BD08784CD0B09BF72FD89924764CB7730C021F5DC03DA685CBA8514C83964F06990835F1F218059A87BD6008BA49CC3D843417D3C98581B7A70CE36CB4C109DBB6585FD3E72A981EEB86AA67BD60C6AA253B7B1EF0364C98D5323A700E6D05363884C65863590069E44595C4085307C16CD7823D614866B1B1BA28DEF6832B8B46EE0A28036F0F281571B5E1A018D3460DED6112ADE084A980C2BE3EF4C9B3F91A1470A13E257838993A1F083A869B16B704C7B81364053A065D894F0526D3772293587DCBF3192333D8615B7FD3139E96B01867EEA3FD486190F5994530E03E361039EA283757E7DF1CBAB3325D0AAB5871212F9E1C0F24CA7B881CBAA94963672437D30147FA1B2507879136D273F7663E90F9927D7B8E346D42DD13E91C44C2958A154B500A282D367379E1A6F2A8AC0ADCADD9632CAE533C9F3721A567370565BA4859ED6ADE2CA5104E86C29B033083124D42933275CF4669C3D0A2640D989755A99BFBA829AFA1EB61CAAA66045239D50B55192503145597920228D7A37CA1ACC332271EA3E42F55B29780DC7B9CCC6A0B52165CBD514AB7005C73DA2295D1BC5215521F09624A29F732A422CAE72AF9F92B9470C55A412A489146556843C0A9975A361AB00300A8029B48AB03B33B80020B3FC0C990E1DF2B815324B92BFDB6AA54FE625BF0F38E19938EEBC7E03720FC302E391E3198AF3C9EC8EB0D2667F5485CA0F2D54154B5F914415145E03B05BE6A4BBE4A4B6D5578AFC546CFEC5E15963E0FB7974CB56EA7E0702D24D0C455EDA463923BA89E357CDB54D3860EADB2416B3AB5C39EAA9FEE149280247D19B03C7BC65B4C7558ADA9A4A6728766AAFCC00B6F28F97CAC9D4F98BA590A2626DE2E0AE6E6B76918EE8C036F1FF868E4C0CD24B0EA1416D1F1EE54C7878CD6E5134DD5C5A93F1FC4D4010A441A98AAC9B554B1F6EAF26DCC2FA3B858BFEEAAA9193834B4A63E468A5EAB0B936B1435473271DAAA6F3A50622428DE3A3385C801D118424B1771E0CEE095281451A61733800E0DC78BE8ECDA266206D38067C503387074680FAF51AEC3BC17EDB2AA23FB16531C3CC528637138EB62E2A4DA6E528448EBCD14D5340C6D09F54717BD61662C034961C54C06D29EADB9A8D2603E488AAA55BF3B5B14FB9DE503FA538A9E75B6B8DED3DCDBE22A9BB34B92F88F8D882C325848D6DC91539DE62A7C88AA433041A32A897C7794B7A1939AB771EA3F78EB94BECEAFFCCE6202E57DF67CFE6E7B4F3657E1A77DBADBA7B4CA647B1F70A35E7682A62BFF6C21E97CF629BF4D2A715105AAA64FAB403E85CBBD1F6C6ABDDF2B6E550544644773FF20F479D19669769F5DB65B554AFA18854841A5F9EA13C5FAF4EB53B8F2BE9236BADD26E437F2E8AD9F3F9731D06021E686E0CD7E76E97B8FB1B74D4A194D7EFA936278B37DFAF9FF031A727FA21F0100, 
'6.1.1-30610');
